{% comment %}V4.0.1 - May 2020
This liquid snippet is used by Discount Ninja, an app from Limoni Apps
Do not modify or remove this snippet, this snippet can be overwritten when the app is upgraded
{% endcomment %}

{%- comment -%}
	Add collection information for product cards that are not loaded on a collection page
	This should be included on the card of "related products" and "featured products"
{%- endcomment -%}
{%- if product -%}
    <script>
        if (typeof window.discountNinjaContextAdditionalProduct === 'undefined') window.discountNinjaContextAdditionalProduct = { CollectionProducts: [] };
        {%- assign limoniapps-discountninja-collections = "" -%} {%- for collection in product.collections -%} {%- assign limoniapps-discountninja-collections = limoniapps-discountninja-collections | append: collection.handle | append: "," -%} {%- endfor -%}
        window.discountNinjaContextAdditionalProduct.CollectionProducts.push({ Collections: "{{ limoniapps-discountninja-collections }}", Available: {{ product.available }}, Handle: "{{ product.handle }}", Price: {{ product.price }}, CompareAtPrice: {{ product.compare_at_price_max }}, PriceVaries: {{ product.price_varies }}, PriceMin: {{ product.price_min }} });
    </script>
{%- endif -%}
